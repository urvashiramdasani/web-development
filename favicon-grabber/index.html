<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="style.css">
    <title>Favicon Grabber</title>
</head>
<body>
    <script type="text/javascript">
        // alert("Hello World");
        function showIt() {
            // alert("Hello there!");
            // alert(document.getElementById("myText").value);
            var text = document.getElementById("myOption").value;
            var image = document.getElementById("myImage");

            if(text == "google") 
                image.src = "https://blog.hubspot.com/hs-fs/hubfs/image8-2.jpg?width=600&name=image8-2.jpg";

            else if(text == "bing")
                image.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Bing_logo_%282016%29.svg/1200px-Bing_logo_%282016%29.svg.png";

            else if(text == "yahoo")
                image.src = "https://logos-world.net/wp-content/uploads/2020/10/Yahoo-Logo.png";

            else 
                alert("No Picture available");
        }

        function isValidURL(string) {
            var res = string.match(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i);

            return res != null;
        }

        function checkIt() {
            var targetText = document.getElementById("atext").value;
            alert(isValidURL(targetText));
        }

        function startIt() {
            var url = document.getElementById("urlText").value;

            if(url == "") 
                alert("Please Enter URL");

            else if(url !== "" && isValidURL(url))
                grabFavicon();
            else
                alert("Please enter valid URL");
        }

        function grabFavicon() {
            var url = document.getElementById("urlText").value;
            var Img = document.getElementById("theImg");
            var size = document.getElementById("size").value;
            var duckApi = "https://icons.duckduckgo.com/ip3/";
            var googleApi = "https://s2.googleusercontent.com/s2/favicons?domain=";

            if(size === "default") {
                var h1 = "https://";
                var h2 = "http://";

                url = url.replace(h1, "");
                url = url.replace(h2, "");

                Img.src = duckApi + url + ".ico";
            }

            else if(size === "16") 
                Img.src = googleApi + url + "&sz=16";

            else if(size === "32") 
                Img.src = googleApi + url + "&sz=32";

            else if(size === "48") 
                Img.src = googleApi + url + "&sz=48";

            else if(size === "64") 
                Img.src = googleApi + url + "&sz=64";

            else if(size === "128") 
                Img.src = googleApi + url + "&sz=128";
        }
    </script>
    <!-- <img src="" id="myImage"> 
    <select id="myOption">
        <option value="google">Google</option>
        <option value="bing">Bing</option>
        <option value="yahoo">Yahoo</option>
        <option value="facebook">Facebook</option>
    </select> -->
    <!-- <input type="text" id="myText"> -->
    <!-- <input type="text" id="atext">
    <input type="submit" value="Click Me" onClick="checkIt()"> -->

    <div class="grid">
        <h2 align="center">Favicon Grabber</h2>
        <center><img src="" id="theImg"></center> <br>

        <select id="size">
            <option value="default">Default Size</option>
            <option value="16">16 x 16</option>
            <option value="32">32 x 32</option>
            <option value="48">48 x 48</option>
            <option value="64">64 x 64</option>
            <option value="128">128 x 128</option>
        </select><br><br>
        <input type="text" placeholder="Enter URL" id="urlText"><br><br>
        <input type="submit" value="Grab" onClick="startIt()">
        <p>Developed by Urvashi Ramdasani</p>
    </div>
</body>
</html>